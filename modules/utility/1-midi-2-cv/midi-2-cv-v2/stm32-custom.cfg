# Select your debug adapter
source [find interface/stlink.cfg]

# Use SWD instead of JTAG
transport select hla_swd

# Specify the exact chip
set CHIPNAME STM32F411RE
source [find target/stm32f4x.cfg]

# Reset configuration
reset_config srst_only

# Adjust clock speed (reduce if having connection issues)
adapter speed 1800

# Optional: Specify the exact CPU TAP ID if needed
# set CPUTAPID 0x4ba00477  # This is for STM32F411RE